<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <!-- arm -->

  <Operation Class="OrenoMSE.XpathPatches.PatchOperationAddOrMerge">
    <xpath>/Defs/ThingDef[@ParentName="BodyPartBionicBase"][defName="BionicArm"]</xpath>
    <value>
      <comps>
        <li Class="OrenoMSE.CompProperties_CompIncludedChildParts">
          <standardChildren>
            <li>BionicHand</li>
            <li>BionicInternalSupport</li>
            <li>BionicInternalSupport</li>
          </standardChildren>
        </li>
      </comps>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>/Defs/RecipeDef[@ParentName="SurgeryInstallBodyPartArtificialBase"][defName="InstallBionicArm"]/appliedOnFixedBodyParts</xpath>
    <value>
      <appliedOnFixedBodyParts>
        <li>Arm</li>
      </appliedOnFixedBodyParts>
    </value>
  </Operation>

  <!-- leg -->

  <Operation Class="OrenoMSE.XpathPatches.PatchOperationAddOrMerge">
    <xpath>/Defs/ThingDef[@ParentName="BodyPartBionicBase"][defName="BionicLeg"]</xpath>
    <value>
      <comps>
        <li Class="OrenoMSE.CompProperties_CompIncludedChildParts">
          <standardChildren>
            <li>BionicFoot</li>
            <li>BionicInternalSupport</li>
            <li>BionicInternalSupport</li>
          </standardChildren>
        </li>
      </comps>
    </value>
  </Operation>

  <!-- copy melee verbs -->

  <!-- hand -->
  <Operation Class="OrenoMSE.XpathPatches.PatchOperationAddOrMerge">
    <xpath>/Defs/HediffDef[@ParentName="AddedBodyPartBase"][defName="BionicHand"]</xpath>
    <value>
      <comps/>
    </value>
  </Operation>
  <Operation Class="OrenoMSE.XpathPatches.PatchOperationAddOrMergeCopy">
    <xpath>/Defs/HediffDef[@ParentName="AddedBodyPartBase"][defName="BionicHand"]/comps</xpath>
    <fromxpath>/Defs/HediffDef[@ParentName="AddedBodyPartBase"][defName="BionicArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</fromxpath>
  </Operation>
  <Operation Class="PatchOperationRemove">
    <xpath>/Defs/HediffDef[@ParentName="AddedBodyPartBase"][defName="BionicArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</xpath>
  </Operation>

  <!-- powerclaw -->
  <Operation Class="OrenoMSE.XpathPatches.PatchOperationAddOrMergeCopy">
    <xpath>/Defs/HediffDef[@ParentName="MSE_ModuleAddedBionic"][defName="PowerClaw"]</xpath>
    <fromxpath>/Defs/HediffDef[@ParentName="AddedBodyPartBase"][defName="PowerClaw"]/*[name()="comps" or name()="stages"]</fromxpath>
  </Operation>


</Patch>