<?xml version="1.0" encoding="utf-8" ?>
<Patch>


	<!-- cnn arm -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNAdvancedNetworkedArm"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>CNAdvancedNetworkedForearm</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNAdvancedNetworkedArm"]/costList</xpath>
		<value>
			<costList>
				<Plasteel>20</Plasteel>
				<ComponentIndustrial>6</ComponentIndustrial>
				<ComponentSpacer>2</ComponentSpacer>
			</costList>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedArm"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/BandwidthUsage</xpath>
		<value>
			<BandwidthUsage>0.3</BandwidthUsage>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedArm"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/ProcessorUsage</xpath>
		<value>
			<ProcessorUsage>0.15</ProcessorUsage>
		</value>
	</Operation>

	<!-- cnn leg -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNAdvancedNetworkedLeg"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>CNAdvancedNetworkedFoot</li>
						<li>BionicInternalSupport</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNAdvancedNetworkedLeg"]/costList</xpath>
		<value>
			<costList>
				<Plasteel>20</Plasteel>
				<ComponentIndustrial>6</ComponentIndustrial>
				<ComponentSpacer>2</ComponentSpacer>
			</costList>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedLeg"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/BandwidthUsage</xpath>
		<value>
			<BandwidthUsage>0.25</BandwidthUsage>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedLeg"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/ProcessorUsage</xpath>
		<value>
			<ProcessorUsage>0.25</ProcessorUsage>
		</value>
	</Operation>

	<!-- int support -->

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="InstallBionicInternalSupport"]/modExtensions/li[@Class="MSE2.InstallationRestrictions"]/whitelist</xpath>
		<value>
			<li>CNAdvancedNetworkedArm</li>
			<li>CNAdvancedNetworkedForearm</li>
			<li>CNAdvancedNetworkedLeg</li>
		</value>
	</Operation>


	<!-- copy stages to subparts -->

	<Operation Class="PatchOperationAddCopy">
		<fromxpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedArm"]/stages</fromxpath>
		<xpath> /Defs/HediffDef[@ParentName="CNHediffProsthetic"] [defName="CNAdvancedNetworkedForearm" or defName="CNAdvancedNetworkedHand" or defName="CNAdvancedNetworkedFinger"]
		</xpath>
	</Operation>
	<Operation Class="PatchOperationAddCopy">
		<fromxpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedLeg"]/stages</fromxpath>
		<xpath> /Defs/HediffDef[@ParentName="CNHediffProsthetic"] [defName="CNAdvancedNetworkedFoot" or defName="CNAdvancedNetworkedToe"]
		</xpath>
	</Operation>

	<!-- move verb from arm to hand -->

	<Operation Class="PatchOperationAddCopy">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedHand"]/comps</xpath>
		<fromxpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</fromxpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNAdvancedNetworkedArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</xpath>
	</Operation>


</Patch>