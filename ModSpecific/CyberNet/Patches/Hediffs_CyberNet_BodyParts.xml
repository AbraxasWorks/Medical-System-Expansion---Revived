<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- cnn arm -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNNetworkedArm"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>CNNetworkedForearm</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNNetworkedArm"]/costList</xpath>
		<value>
			<costList>
				<Plasteel>12</Plasteel>
				<ComponentIndustrial>5</ComponentIndustrial>
				<ComponentSpacer>1</ComponentSpacer>
			</costList>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedArm"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/BandwidthUsage</xpath>
		<value>
			<BandwidthUsage>0.1</BandwidthUsage>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedArm"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/ProcessorUsage</xpath>
		<value>
			<ProcessorUsage>0.05</ProcessorUsage>
		</value>
	</Operation>

	<!-- cnn leg -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNNetworkedLeg"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>CNNetworkedFoot</li>
						<li>BionicInternalSupport</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="CyberNetProsthetic"][defName="CNNetworkedLeg"]/costList</xpath>
		<value>
			<costList>
				<Plasteel>12</Plasteel>
				<ComponentIndustrial>5</ComponentIndustrial>
				<ComponentSpacer>1</ComponentSpacer>
			</costList>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedLeg"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/BandwidthUsage</xpath>
		<value>
			<BandwidthUsage>0.25</BandwidthUsage>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedLeg"]/comps/li[@Class="CyberNet.HediffCompPropertiesCyberNetImplant"]/ProcessorUsage</xpath>
		<value>
			<ProcessorUsage>0.125</ProcessorUsage>
		</value>
	</Operation>

	<!-- int support -->

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="InstallBionicInternalSupport"]/modExtensions/li[@Class="MSE2.InstallationRestrictions"]/whitelist</xpath>
		<value>
			<li>CNNetworkedArm</li>
			<li>CNNetworkedForearm</li>
			<li>CNNetworkedLeg</li>
		</value>
	</Operation>

	<!-- copy stages to subparts -->

	<Operation Class="PatchOperationAddCopy">
		<fromxpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedArm"]/stages</fromxpath>
		<xpath> /Defs/HediffDef[@ParentName="CNHediffProsthetic"] [defName="CNNetworkedForearm" or defName="CNNetworkedHand" or defName="CNNetworkedFinger"]
		</xpath>
	</Operation>
	<Operation Class="PatchOperationAddCopy">
		<fromxpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedLeg"]/stages</fromxpath>
		<xpath> /Defs/HediffDef[@ParentName="CNHediffProsthetic"] [defName="CNNetworkedFoot" or defName="CNNetworkedToe"]
		</xpath>
	</Operation>

	<!-- move verb from arm to hand -->

	<Operation Class="PatchOperationAddCopy">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedHand"]/comps</xpath>
		<fromxpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</fromxpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>/Defs/HediffDef[@ParentName="CNHediffProsthetic"][defName="CNNetworkedArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</xpath>
	</Operation>



</Patch>