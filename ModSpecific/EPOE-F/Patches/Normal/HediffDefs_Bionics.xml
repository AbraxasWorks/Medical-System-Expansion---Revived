<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<!-- bionic arm -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicArm"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>BionicForearm</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicArm"]/statBases</xpath>
		<value>
			<WorkToMake>2000</WorkToMake>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicArm"]/statBases/Mass</xpath>
		<value>
			<Mass>0.75</Mass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicArm"]/costList</xpath>
		<value>
			<costList>
				<Steel>10</Steel>
				<Plasteel>10</Plasteel>
				<ComponentIndustrial>1</ComponentIndustrial>
			</costList>
		</value>
	</Operation>

	<!-- bionic leg -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicLeg"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>BionicFoot</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicLeg"]/statBases</xpath>
		<value>
			<WorkToMake>12000</WorkToMake>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicLeg"]/statBases/Mass</xpath>
		<value>
			<Mass>5.3</Mass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicLeg"]/costList</xpath>
		<value>
			<costList>
				<Steel>25</Steel>
				<Plasteel>30</Plasteel>
				<ComponentIndustrial>3</ComponentIndustrial>
			</costList>
		</value>
	</Operation>

	<!-- bionic hand -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/HediffDef[@ParentName="addedPartBionics"][defName="BionicHand"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.HediffCompProperties_ModuleHolder">
					<maxModules>1</maxModules>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicHand"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>BionicFinger</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicHand"]/statBases</xpath>
		<value>
			<WorkToMake>4000</WorkToMake>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicHand"]/statBases/Mass</xpath>
		<value>
			<Mass>0.6</Mass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicHand"]/costList</xpath>
		<value>
			<costList>
				<Steel>7</Steel>
				<Plasteel>7</Plasteel>
			</costList>
		</value>
	</Operation>

	<!-- bionic finger -->

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFinger"]/statBases/WorkToMake</xpath>
		<value>
			<WorkToMake>1200</WorkToMake>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFinger"]/statBases/Mass</xpath>
		<value>
			<Mass>0.12</Mass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFinger"]/costList</xpath>
		<value>
			<costList>
				<Steel>2</Steel>
				<Plasteel>2</Plasteel>
				<ComponentIndustrial>1</ComponentIndustrial>
			</costList>
		</value>
	</Operation>

	<!-- bionic foot -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFoot"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>BionicToe</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFoot"]/statBases</xpath>
		<value>
			<WorkToMake>4000</WorkToMake>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFoot"]/statBases/Mass</xpath>
		<value>
			<Mass>0.85</Mass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicFoot"]/costList</xpath>
		<value>
			<costList>
				<Steel>8</Steel>
				<Plasteel>6</Plasteel>
			</costList>
		</value>
	</Operation>
	
	<!-- bionic toe -->

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicToe"]/statBases/WorkToMake</xpath>
		<value>
			<WorkToMake>800</WorkToMake>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicToe"]/statBases/Mass</xpath>
		<value>
			<Mass>0.05</Mass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="BionicToe"]/costList</xpath>
		<value>
			<costList>
				<Steel>2</Steel>
				<Plasteel>2</Plasteel>
				<ComponentIndustrial>1</ComponentIndustrial>
			</costList>
		</value>
	</Operation>

	<!-- power arm -->

	<Operation Class="PatchOperationAddOrMerge">
		<xpath>/Defs/ThingDef[@ParentName="EPIA_UpgradeBodyPartBionicBase"][defName="PowerArm"]</xpath>
		<value>
			<comps>
				<li Class="MSE2.CompProperties_IncludedChildParts">
					<standardChildren>
						<li>PowerForearm</li>
						<li>BionicInternalSupport</li>
					</standardChildren>
				</li>
			</comps>
		</value>
	</Operation>


	<!-- verbs -->

	<!-- melee verbs on power hand -->

	<Operation Class="PatchOperationRemove">
		<xpath>/Defs/HediffDef[@ParentName="addedPartBionics"][defName="PowerArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]</xpath>
	</Operation>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended</li>
		</mods>
		<match Class="PatchOperationAddOrMerge">
			<xpath>/Defs/HediffDef[@ParentName="addedPartBionics"][defName="PowerHand"]</xpath>
			<value>
				<comps>
					<li Class="HediffCompProperties_VerbGiver">
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>bionic fist</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>7</power>
								<armorPenetrationBlunt>2.2</armorPenetrationBlunt>
								<cooldownTime>1.20</cooldownTime>
							</li>
						</tools>
					</li>
				</comps>
			</value>
		</match>
		<nomatch Class="PatchOperationAddOrMerge">
			<xpath>/Defs/HediffDef[@ParentName="addedPartBionics"][defName="PowerHand"]</xpath>
			<value>
				<comps>
					<li Class="HediffCompProperties_VerbGiver">
						<tools>
							<li>
								<label>bionic fist</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>13</power>
								<cooldownTime>1.85</cooldownTime>
							</li>
						</tools>
					</li>
				</comps>
			</value>
		</nomatch>
	</Operation>

</Patch>